{% extends "conteudo-base.html" %}

{% block title %}M√≥dulo 4: Abstra√ß√£o{% endblock %}

{% block content_title %}
    <i class="fas fa-filter text-primary-indigo mr-2"></i> M√≥dulo 4: Abstra√ß√£o - Foco no Essencial
{% endblock %}

{% block content %}
    <div class="content-section">
        <h2 class="text-2xl font-semibold text-primary-indigo mb-4 flex items-center">
            <i class="fas fa-video mr-3"></i> V√≠deo Aula: Ignorando o Irrelevante
        </h2>
        <div class="video-container">
            <iframe src="https://www.youtube.com/embed/dQw4w9WgXcQ" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
        <p class="text-gray-500 mt-4">Aprenda a criar modelos mentais e representa√ß√µes, focando apenas nas caracter√≠sticas cruciais.</p>
    </div>

    <div class="content-section">
        <h2 class="text-2xl font-semibold text-primary-indigo mb-4 flex items-center">
            <i class="fas fa-clipboard-check mr-3"></i> Exerc√≠cios de Fixa√ß√£o
        </h2>
        <div class="space-y-6">
            
            <div id="q-mod4-1" class="border p-4 rounded-lg bg-white shadow">
                <p class="font-semibold text-sm mb-2 text-gray-500">Conceitual</p>
                <p class="font-semibold text-lg mb-4 text-gray-800">1. Qual das a√ß√µes a seguir √© o exemplo mais claro de Abstra√ß√£o?</p>
                <div class="space-y-2">
                    <div class="quiz-option bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200"
                        onclick="checkAnswer('q-mod4-1', this, 'false', '‚ùå Incorreto. Isso √© Decomposi√ß√£o, que √© a quebra do problema.')" data-correct="false">
                        A) Dividir a avalia√ß√£o em quatro sub-t√≥picos menores.
                    </div>
                    <div class="quiz-option bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200"
                        onclick="checkAnswer('q-mod4-1', this, 'false', '‚ùå Incorreto. Isso √© Reconhecimento de Padr√µes, que foca nas similaridades.')" data-correct="false">
                        B) Usar o mesmo template de feedback para todas as turmas.
                    </div>
                    <div class="quiz-option bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200"
                        onclick="checkAnswer('q-mod4-1', this, 'true', '‚úÖ Correto! Abstra√ß√£o envolve criar um modelo gen√©rico (O ALUNO) que representa o essencial, ignorando detalhes irrelevantes (cor, idade, etc.).')" data-correct="true">
                        C) Criar um "Perfil Padr√£o do Aluno" com notas m√©dias e objetivos de aprendizagem, ignorando sua cor, idade ou hobbies.
                    </div>
                    <div class="quiz-option bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200"
                        onclick="checkAnswer('q-mod4-1', this, 'false', '‚ùå Incorreto. Isso √© Pensamento Algor√≠tmico (cria√ß√£o de passos) ou Decomposi√ß√£o.')" data-correct="false">
                        D) Listar passo a passo como um aluno deve enviar uma tarefa no LMS (Sistema de Gest√£o de Aprendizagem).
                    </div>
                </div>
                <div class="feedback-message mt-4 hidden"></div>
            </div>
            <div id="q-mod4-2" class="border p-4 rounded-lg bg-white shadow">
                <p class="font-semibold text-sm mb-2 text-gray-500">IADES - Adaptada</p>
                <p class="font-semibold text-lg mb-4 text-gray-800">2. Segundo os pilares do Pensamento Computacional (Decomposi√ß√£o, Padr√µes, Abstra√ß√£o e Algoritmos), a Abstra√ß√£o √© a ferramenta mental que permite:</p>
                <div class="space-y-2">
                    <div class="quiz-option bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200"
                        onclick="checkAnswer('q-mod4-2', this, 'false', '‚ùå Incorreto. Isso √© Decomposi√ß√£o, que √© a primeira etapa.')" data-correct="false">
                        A) A reformula√ß√£o do problema original em sub-problemas menores e mais trat√°veis.
                    </div>
                    <div class="quiz-option bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200"
                        onclick="checkAnswer('q-mod4-2', this, 'true', '‚úÖ Correto! Abstra√ß√£o foca no essencial e ignora os detalhes, criando um modelo (a ess√™ncia) da solu√ß√£o.')" data-correct="true">
                        B) Focar nas informa√ß√µes relevantes e desconsiderar detalhes irrelevantes ou espec√≠ficos do contexto.
                    </div>
                    <div class="quiz-option bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200"
                        onclick="checkAnswer('q-mod4-2', this, 'false', '‚ùå Incorreto. Isso √© Pensamento Algor√≠tmico, que √© o √∫ltimo passo.')" data-correct="false">
                        C) Criar uma sequ√™ncia l√≥gica e ordenada de passos para resolver o problema.
                    </div>
                    <div class="quiz-option bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200"
                        onclick="checkAnswer('q-mod4-2', this, 'false', '‚ùå Incorreto. Isso √© Reconhecimento de Padr√µes, que √© a identifica√ß√£o de similaridades.')" data-correct="false">
                        D) Utilizar solu√ß√µes pr√©vias para resolver novos problemas similares.
                    </div>
                </div>
                <div class="feedback-message mt-4 hidden"></div>
            </div>
            <div id="q-mod4-3" class="border p-4 rounded-lg bg-white shadow">
                <p class="font-semibold text-sm mb-2 text-gray-500">Modelo Mental</p>
                <p class="font-semibold text-lg mb-4 text-gray-800">3. A cria√ß√£o de um mapa conceitual que representa as interconex√µes entre ideias-chave em uma disciplina, ignorando exemplos pr√°ticos espec√≠ficos, √© um ato de:</p>
                <div class="space-y-2">
                    <div class="quiz-option bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200"
                        onclick="checkAnswer('q-mod4-3', this, 'false', '‚ùå Incorreto. O foco n√£o √© na sequ√™ncia de passos (Algoritmo).')" data-correct="false">
                        A) Pensamento Algor√≠tmico.
                    </div>
                    <div class="quiz-option bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200"
                        onclick="checkAnswer('q-mod4-3', this, 'true', '‚úÖ Correto! Ao focar apenas nas interconex√µes e nos conceitos centrais (o essencial) e ignorar os exemplos (o irrelevante), voc√™ est√° abstraindo.')" data-correct="true">
                        B) Abstra√ß√£o.
                    </div>
                    <div class="quiz-option bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200"
                        onclick="checkAnswer('q-mod4-3', this, 'false', '‚ùå Incorreto. Embora haja decomposi√ß√£o na escolha dos conceitos, o ato de *ignorar os exemplos* e criar o mapa √© a Abstra√ß√£o.')" data-correct="false">
                        C) Decomposi√ß√£o.
                    </div>
                    <div class="quiz-option bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200"
                        onclick="checkAnswer('q-mod4-3', this, 'false', '‚ùå Incorreto. O Reconhecimento de Padr√µes √© a etapa que precede, identificando as similaridades.')" data-correct="false">
                        D) Reconhecimento de Padr√µes.
                    </div>
                </div>
                <div class="feedback-message mt-4 hidden"></div>
            </div>
            <div id="q-mod4-4" class="border p-4 rounded-lg bg-white shadow">
                <p class="font-semibold text-sm mb-2 text-gray-500">Rela√ß√£o entre Pilares</p>
                <p class="font-semibold text-lg mb-4 text-gray-800">4. A Abstra√ß√£o no Pensamento Computacional atua como uma ponte direta entre qual dos pilares?</p>
                <div class="space-y-2">
                    <div class="quiz-option bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200"
                        onclick="checkAnswer('q-mod4-4', this, 'false', '‚ùå Incorreto. Decomposi√ß√£o √© a primeira etapa, muito antes da Abstra√ß√£o.')" data-correct="false">
                        A) Decomposi√ß√£o e Reconhecimento de Padr√µes.
                    </div>
                    <div class="quiz-option bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200"
                        onclick="checkAnswer('q-mod4-4', this, 'true', '‚úÖ Exato! O Reconhecimento de Padr√µes fornece as similaridades, a Abstra√ß√£o usa essas similaridades para criar um modelo √∫nico, que, por sua vez, ser√° usado no Algoritmo.')" data-correct="true">
                        B) Reconhecimento de Padr√µes e Algoritmos.
                    </div>
                    <div class="quiz-option bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200"
                        onclick="checkAnswer('q-mod4-4', this, 'false', '‚ùå Incorreto. Abstra√ß√£o e Decomposi√ß√£o n√£o t√™m essa conex√£o direta.')" data-correct="false">
                        C) Abstra√ß√£o e Decomposi√ß√£o.
                    </div>
                    <div class="quiz-option bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200"
                        onclick="checkAnswer('q-mod4-4', this, 'false', '‚ùå Incorreto. Decomposi√ß√£o e Algoritmos s√£o os extremos, com os outros dois pilares entre eles.')" data-correct="false">
                        D) Decomposi√ß√£o e Algoritmos.
                    </div>
                </div>
                <div class="feedback-message mt-4 hidden"></div>
            </div>
            <div id="q-mod4-5" class="border p-4 rounded-lg bg-white shadow">
                <p class="font-semibold text-sm mb-2 text-gray-500">Utilidade da Abstra√ß√£o</p>
                <p class="font-semibold text-lg mb-4 text-gray-800">5. A Abstra√ß√£o √© essencial para a cria√ß√£o de:</p>
                <div class="space-y-2">
                    <div class="quiz-option bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200"
                        onclick="checkAnswer('q-mod4-5', this, 'true', '‚úÖ Correto! Fun√ß√µes e M√≥dulos s√£o a concretiza√ß√£o da Abstra√ß√£o, permitindo que o mesmo c√≥digo/estrutura seja reutilizado em diferentes contextos.')" data-correct="true">
                        A) Fun√ß√µes e M√≥dulos reutiliz√°veis.
                    </div>
                    <div class="quiz-option bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200"
                        onclick="checkAnswer('q-mod4-5', this, 'false', '‚ùå Incorreto. Isso √© o papel da Decomposi√ß√£o.')" data-correct="false">
                        B) Listas detalhadas de tarefas.
                    </div>
                    <div class="quiz-option bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200"
                        onclick="checkAnswer('q-mod4-5', this, 'false', '‚ùå Incorreto. A Abstra√ß√£o foca no essencial e ignora os detalhes, portanto, n√£o serve para criar detalhamento.')" data-correct="false">
                        C) Detalhamentos t√©cnicos completos.
                    </div>
                    <div class="quiz-option bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200"
                        onclick="checkAnswer('q-mod4-5', this, 'false', '‚ùå Incorreto. Embora a Abstra√ß√£o ajude, o foco principal √© na generaliza√ß√£o e reutiliza√ß√£o.')" data-correct="false">
                        D) Exce√ß√µes e regras espec√≠ficas.
                    </div>
                </div>
                <div class="feedback-message mt-4 hidden"></div>
            </div>
        </div>
    </div>

    {# ========================================================= #}
    {# SE√á√ÉO DE PROJETO (ABSTRA√á√ÉO) - AJUSTADA PARA A L√ìGICA FLASK/AJAX #}
    {# ========================================================= #}
    <div class="content-section bg-indigo-50 border-indigo-300">
        <div class="flex justify-between items-center mb-4">
            <h2 class="text-2xl font-semibold text-primary-indigo">üß† Meu Projeto: O Modelo Essencial (Abstra√ß√£o)</h2>
            {# Este span ser√° atualizado pela fun√ß√£o JavaScript saveProjectData na base_dashboard.html #}
            <span id="project-save-feedback" class="text-sm font-semibold opacity-0 transition-opacity"></span>
        </div>
        
        <p class="text-gray-700 mb-4">Esta √© a etapa de abstra√ß√£o do seu projeto. Vamos criar um modelo que represente a ess√™ncia do seu trabalho.</p>
        
        {# O ID do formul√°rio √© usado para o JavaScript, e o 'onchange' garante o salvamento ass√≠ncrono. #}
        <form id="project-form-modulo-4" method="POST" onchange="saveProjectData(this)">
            
            <h3 class="text-xl font-semibold text-gray-800 mb-3">O Modelo Essencial</h3>
            
            {# Informa√ß√£o de contexto do projeto (Nome do Projeto do M√≥dulo 1) #}
            <p id="project-name-display" class="text-sm italic text-gray-600 mb-4">
                Projeto Atual: **{{ projeto_data.nome_projeto | default('Projeto Sem Nome') }}**
            </p>

            <div class="mb-4">
                <label for="abstracao" class="block text-gray-800 font-medium mb-2">Considerando os padr√µes identificados no M√≥dulo 3, crie uma **Abstra√ß√£o** para o seu projeto. Qual √© o **modelo ou a regra essencial** que define a sua solu√ß√£o? Quais s√£o os detalhes que podem ser **ignorados** neste momento para criar uma representa√ß√£o simples e poderosa?</label>
                <textarea id="abstracao" name="abstracao" rows="6" 
                          class="w-full p-3 border border-indigo-300 rounded-lg shadow-sm focus:ring-primary-indigo focus:border-primary-indigo" 
                          placeholder="Ex: O modelo essencial √©: 'Se a tarefa A for conclu√≠da e o tempo X for excedido, acione o feedback B.' Ignoramos a cor do bot√£o, o nome exato do aluno, e focamos apenas nas vari√°veis l√≥gicas (Tarefa, Tempo, Feedback)." required>
                    {# Carrega o valor salvo do banco de dados, se existir #}
                    {{ projeto_data.abstracao | default('') }}
                </textarea>
                <p class="mt-1 text-xs text-gray-500">Seu progresso ser√° salvo automaticamente.</p>
            </div>
            
            {# Bot√£o de salvamento mantido, mas o onchange far√° o trabalho. #}
            <button type="submit" class="mt-4 hidden sm:inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-indigo hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-indigo">
                Salvar Abstra√ß√£o
            </button>
            
        </form>
    </div>
{% endblock %}

{% block finish_button %}
    <div class="flex justify-end pt-4">
        {# Usando 'modulo.slug' que √© injetado pelo Flask para garantir a rota correta #}
        <form method="POST" action="{{ url_for('concluir_modulo', modulo_nome=modulo.slug) }}">
            <button type="submit" class="btn-finish">
                <i class="fas fa-check-double mr-2"></i> Concluir M√≥dulo 4: Abstra√ß√£o
            </button>
        </form>
    </div>
{% endblock %}
